<h1>My Shop</h1>

<h3>My shop has <%= @products.public_count %> products</h3>

<p id="notice"><%= notice %></p>

<table class="table">
    <tr>
        <th>Products</th>

        <th>Price</th>

        <th>Stock</th>
    </tr>
  <% @products.each do |product| %>
    <tr>
        <th><% unless product.archived? %>
            <%= link_to product.name, product %>
        <% end %></th>

        <th><% unless product.archived? %>
            <%= product.price %>
        <% end %></th>

        <th><% unless product.archived? %>
            <%= product.stock %>
        <% end %></th>
    
        <th><%= link_to "Edit", edit_product_path(product) %></th>

        <th><%= link_to "Delete", product_path(product),
                  method: :delete,
                  data: { confirm: "Delete product '#{product.name}' ?" } %></th>
    </tr>
  <% end %>
</table>

<h3><%= link_to "New Product", new_product_path %></h3>